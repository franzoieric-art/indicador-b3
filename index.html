<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rico Plus - Setup</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* === COR EXATA DO RICO PLUS === */
      --main-color: #5a23c8; /* Roxo vibrante */
      
      --bg-color: #0a0a0a; /* Fundo quase preto */
      --text-color: #ffffff;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

    body, html { height: 100%; width: 100%; overflow: hidden; background: var(--bg-color); color: var(--text-color); }

    /* Container principal centralizado */
    .onboarding-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100vh;
      max-width: 640px;
      margin: 0 auto;
      padding: 30px;
      position: relative;
    }

    /* Barra de Progresso no topo */
    .progress-bar-container {
      position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: #222; z-index: 10;
    }
    .progress-bar-fill {
      height: 100%; background: var(--main-color); width: 33%; transition: width 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    /* Estilo dos Steps (As perguntas) */
    .step {
      display: none; /* Escondido por padr√£o */
      opacity: 0;
      transform: translateY(30px); /* Come√ßa um pouco mais baixo */
      transition: all 0.5s ease-out;
    }
    /* Classe para mostrar a pergunta atual */
    .step.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    /* Numera√ß√£o pequena acima da pergunta */
    .question-number {
      color: var(--main-color); font-size: 14px; font-weight: 700; margin-bottom: 15px; display: block; letter-spacing: 1px;
    }
    .question-number span { border: 1px solid var(--main-color); padding: 2px 7px; border-radius: 4px; margin-right: 10px; }

    /* T√≠tulo da pergunta */
    h2 { font-size: 32px; font-weight: 300; line-height: 1.3; margin-bottom: 40px; color: #eee; }
    h2 strong { font-weight: 700; color: #fff; }
    
    /* Descri√ß√£o extra */
    .desc { color: #888; margin-bottom: 25px; font-size: 16px; margin-top: -20px; }

    /* Grid de Op√ß√µes */
    .options-grid { display: flex; flex-direction: column; gap: 12px; width: 100%; }
    
    /* Cart√µes de Op√ß√£o (Bot√µes) */
    .option-card {
      background: rgba(255,255,255,0.05);
      border: 1px solid #333;
      padding: 18px 25px;
      border-radius: 8px;
      color: #fff; font-size: 18px; font-weight: 500;
      cursor: pointer; text-align: left;
      transition: all 0.3s;
      display: flex; align-items: center;
    }
    .option-card:hover {
      background: rgba(90, 35, 200, 0.1); /* Leve toque roxo no hover */
      border-color: var(--main-color);
      transform: translateX(5px); /* Pequeno movimento para direita */
    }
    /* Letrinhas de atalho (A, B, C) */
    .key-hint {
      background: #222; font-size: 12px; padding: 4px 8px; border-radius: 4px; margin-right: 15px; color: #888; font-weight: 700;
    }

    /* Input de E-mail Gigante */
    .big-input {
      width: 100%; background: transparent; border: none;
      border-bottom: 3px solid #444;
      color: var(--main-color); /* Texto roxo ao digitar */
      font-size: 36px; font-weight: 300;
      padding: 15px 0; outline: none;
      transition: border-color 0.3s;
    }
    .big-input::placeholder { color: #444; }
    .big-input:focus { border-bottom-color: var(--main-color); }

    /* Bot√£o Final (Estilo Rico Plus) */
    .btn-finish {
      margin-top: 50px;
      background-color: var(--main-color);
      color: white; font-size: 22px; font-weight: 700;
      border: none; padding: 20px 40px; width: 100%;
      border-radius: 8px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.3s; box-shadow: 0 4px 15px rgba(90, 35, 200, 0.3);
    }
    .btn-finish:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(90, 35, 200, 0.5); }
    
    /* Rodap√© */
    .footer-brand { position: absolute; bottom: 30px; left: 0; width: 100%; text-align: center; font-size: 14px; color: #666; }
    .footer-brand strong { color: var(--main-color); }

    /* Tela de Carregamento Final */
    .loading-screen { display: none; text-align: center; }
    .spinner { border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--main-color); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 30px auto; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body>

  <div class="progress-bar-container"><div class="progress-bar-fill" id="progressBar"></div></div>

  <div class="onboarding-container">
    
    <div class="step active" id="step1">
      <span class="question-number"><span>1</span> CLAREZA</span>
      <h2>Qual plataforma voc√™ usa para <strong>operar hoje?</strong></h2>
      <div class="options-grid">
        <button class="option-card" onclick="next(1, 'Plataforma', 'ProfitChart')"><span class="key-hint">A</span> ProfitChart</button>
        <button class="option-card" onclick="next(1, 'Plataforma', 'MetaTrader')"><span class="key-hint">B</span> MetaTrader</button>
        <button class="option-card" onclick="next(1, 'Plataforma', 'Outra/Nenhuma')"><span class="key-hint">C</span> Outra / Nenhuma</button>
      </div>
    </div>

    <div class="step" id="step2">
      <span class="question-number"><span>2</span> N√çVEL ATUAL</span>
      <h2>H√° quanto tempo voc√™ estuda <strong>Day Trade?</strong></h2>
      <div class="options-grid">
        <button class="option-card" onclick="next(2, 'Tempo', 'Iniciante')"><span class="key-hint">A</span> Sou iniciante (0-6 meses)</button>
        <button class="option-card" onclick="next(2, 'Tempo', 'Intermedi√°rio')"><span class="key-hint">B</span> J√° opero (6 meses - 2 anos)</button>
        <button class="option-card" onclick="next(2, 'Tempo', 'Experiente')"><span class="key-hint">C</span> Experiente (+2 anos)</button>
      </div>
    </div>

    <div class="step" id="step3">
      <span class="question-number"><span>3</span> LIBERA√á√ÉO</span>
      <h2>Para onde devo enviar seu <strong>acesso gratuito?</strong></h2>
      <p class="desc">Pode ficar tranquilo, odiamos spam tanto quanto voc√™.</p>
      
      <input type="email" id="emailInput" class="big-input" placeholder="digite seu melhor e-mail..." required>
      
      <button class="btn-finish" onclick="finish()">FINALIZAR E ACESSAR üöÄ</button>
    </div>

    <div class="loading-screen" id="finalScreen">
      <div class="spinner"></div>
      <h2 style="margin-bottom: 10px;">Quase l√°...</h2>
      <p style="color: #888;">Estamos preparando seu ambiente no Rico Plus.</p>
    </div>

    <div class="footer-brand">Seguran√ßa por <strong>Rico Plus</strong></div>
  </div>

  <script>
    // URL ATUALIZADA DO SEU SCRIPT
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbybxEDLJ7gtHZheLl2bO7K93S56Z77inMMe1kzLIjEGoIou7Z95QtnWNGbFiHBcu0Ds/exec'; 

    let userAnswers = {};

    function next(currentStepNum, field, value) {
      userAnswers[field] = value;
      
      const currentStepEl = document.getElementById('step' + currentStepNum);
      currentStepEl.style.opacity = '0';
      currentStepEl.style.transform = 'translateY(-40px)'; 

      setTimeout(() => {
        currentStepEl.classList.remove('active');
        
        const nextStepNum = currentStepNum + 1;
        const nextStepEl = document.getElementById('step' + nextStepNum);
        
        if(nextStepEl) {
          nextStepEl.classList.add('active');
          const progress = (nextStepNum / 3) * 100;
          document.getElementById('progressBar').style.width = progress + '%';
        }
      }, 500); 
    }

    function finish() {
      const emailInput = document.getElementById('emailInput');
      const emailValue = emailInput.value.trim();

      if(!emailValue.includes('@') || emailValue.length < 5) {
        alert('Por favor, digite um e-mail v√°lido para continuar.');
        emailInput.focus();
        return;
      }
      
      userAnswers['Email'] = emailValue;
      
      const btn = document.querySelector('.btn-finish');
      btn.innerHTML = "Enviando...";
      btn.style.opacity = "0.8";
      btn.disabled = true;

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors', 
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(userAnswers)
      }).then(() => {
        document.getElementById('step3').style.display = 'none';
        document.querySelector('.footer-brand').style.display = 'none';
        document.getElementById('finalScreen').style.display = 'block';
        
        setTimeout(() => {
          // REMOVER OVERLAY E LIBERAR O SITE
          const overlay = document.querySelector('.onboarding-container');
          overlay.style.transition = 'opacity 1s ease';
          overlay.style.opacity = '0';
          document.querySelector('.progress-bar-container').style.opacity = '0';
          
          setTimeout(() => {
             document.body.style.overflow = 'auto'; 
             overlay.style.display = 'none'; 
             document.querySelector('.progress-bar-container').style.display = 'none';
          }, 1000);
          
          // Se quiser redirecionar, use: window.location.href = "URL_DO_SITE";
        }, 3000);

      }).catch(err => {
        console.error('Erro:', err);
        alert('Houve um erro na conex√£o. Tente novamente.');
        btn.innerHTML = "FINALIZAR E ACESSAR üöÄ";
        btn.disabled = false;
      });
    }

    document.getElementById('emailInput').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') finish();
    });
  </script>
</body>
</html>
